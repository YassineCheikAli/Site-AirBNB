<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>administratif</title>
    <link rel="stylesheet" href="design/admin.css"/> 
</head>

<body>
    <form id="reservation-form" action="afficherinfo.php" method="POST">
        <svg class="return" onclick="window.location.href = 'Menu_admin.php';" width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="18.1793" cy="17.8267" r="17.25" transform="rotate(178.94 18.1793 17.8267)" fill="#D9D9D9" stroke="black" stroke-width="0.5"/>
            <path d="M21.4349 24.509C21.6458 24.2901 21.7612 23.9963 21.7556 23.6924C21.75 23.3884 21.6239 23.0991 21.405 22.8881L15.6264 17.3184L21.1961 11.5398C21.4009 11.3198 21.5111 11.0281 21.503 10.7276C21.4949 10.4271 21.369 10.1418 21.1526 9.93318C20.9361 9.72456 20.6464 9.6093 20.3458 9.61222C20.0452 9.61514 19.7578 9.73601 19.5454 9.9488L13.1802 16.5528C12.9693 16.7717 12.8539 17.0654 12.8595 17.3694C12.8651 17.6733 12.9912 17.9626 13.2101 18.1736L19.814 24.5388C20.0329 24.7498 20.3267 24.8651 20.6306 24.8595C20.9346 24.8539 21.2239 24.7278 21.4349 24.509Z" fill="black"/>
        </svg>

    <div class="title">
        <hr class="horizontal-line">
        <hr class="horizontal-line_2">
        <h2>ADMINISTRATION</h2>
    </div>

    <h1>Messagerie</h1>

    <div class="table-container">
        <table>
            <tr>
                <td class="header-cell-name">Nom</td>
                <td class="header-cell-date">Date</td>
                <td class="header-cell">Contenu</td>
                <td class="header-cell">Réservation</td>
                <td class="header-cell-empty"></td>

            </tr>
            <tr>
                <td onclick="changeContent(this)">Case 4</td>
                <td onclick="changeContent(this)">Case 5</td>
                <td onclick="changeContent(this)">Case 6</td>
                <td onclick="changeContent(this)">Case 6</td>
                <td class="svgContainer">
                    <svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="17.501" cy="17.5" r="17.25" fill="#D9D9D9" stroke="black" stroke-width="0.5"/>
                        <path d="M13.5585 10.3349C13.3435 10.5499 13.2227 10.8415 13.2227 11.1455C13.2227 11.4495 13.3434 11.741 13.5583 11.9561L19.2329 17.6317L13.5573 23.3063C13.3484 23.5225 13.2329 23.8121 13.2354 24.1127C13.238 24.4133 13.3586 24.7009 13.5711 24.9135C13.7837 25.126 14.0712 25.2466 14.3718 25.2493C14.6724 25.2519 14.962 25.1364 15.1783 24.9276L21.6645 18.4425C21.8795 18.2275 22.0003 17.9359 22.0003 17.6319C22.0003 17.3279 21.8796 17.0363 21.6647 16.8213L15.1796 10.3351C14.9646 10.1201 14.6731 9.99935 14.3691 9.99932C14.065 9.99929 13.7735 10.12 13.5585 10.3349Z" fill="black"/>
                    </svg>      
                </td>


            </tr>
            <tr>
                <td onclick="changeContent(this)">Case 8</td>
                <td onclick="changeContent(this)">Case 9</td>
                <td onclick="changeContent(this)">Case 10</td>
                <td onclick="changeContent(this)">Case 6</td>
                <td class="svgContainer">
                    <svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="17.501" cy="17.5" r="17.25" fill="#D9D9D9" stroke="black" stroke-width="0.5"/>
                        <path d="M13.5585 10.3349C13.3435 10.5499 13.2227 10.8415 13.2227 11.1455C13.2227 11.4495 13.3434 11.741 13.5583 11.9561L19.2329 17.6317L13.5573 23.3063C13.3484 23.5225 13.2329 23.8121 13.2354 24.1127C13.238 24.4133 13.3586 24.7009 13.5711 24.9135C13.7837 25.126 14.0712 25.2466 14.3718 25.2493C14.6724 25.2519 14.962 25.1364 15.1783 24.9276L21.6645 18.4425C21.8795 18.2275 22.0003 17.9359 22.0003 17.6319C22.0003 17.3279 21.8796 17.0363 21.6647 16.8213L15.1796 10.3351C14.9646 10.1201 14.6731 9.99935 14.3691 9.99932C14.065 9.99929 13.7735 10.12 13.5585 10.3349Z" fill="black"/>
                    </svg>      
                </td>

            </tr>
        </table>
    </div>

    <h1>Utilisateurs</h1>

    <div class="table-container">
        <table>
            <thead>
            
            </thead>
            <tbody id="resultats"></tbody>
          </table>
          <script>
            window.addEventListener('DOMContentLoaded', function() {
              var xhr = new XMLHttpRequest();
          
              xhr.onreadystatechange = function() {
                if (xhr.readyState === XMLHttpRequest.DONE) {
                  if (xhr.status === 200) {
                    document.getElementById("resultats").innerHTML = xhr.responseText;
                  } else {
                    console.log("Une erreur s'est produite.");
                  }
                }
              };
          
              xhr.open("GET", "afficherinfo.php", true);
              xhr.send();
            });
          
            function deleteData(id) {
                if (confirm('Êtes-vous sûr de vouloir supprimer cette entrée ?')) {
                    // Envoi de la requête AJAX
                    var xhr = new XMLHttpRequest();
                    xhr.open('POST', 'delete.php', true);
                    xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
                    xhr.onreadystatechange = function() {
                        if (xhr.readyState === 4 && xhr.status === 200) {
                            // Suppression de la ligne du tableau
                            var row = document.getElementById('row-' + id);
                            if (row) {
                                row.parentNode.removeChild(row);
                            }
                        }
                    };
                    xhr.send('id=' + id);
                }
            }
        </script>
          
        
    </div>
    </form>
    <script src="design/admin.js"></script>
</body>

</html>